<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="display"></div>
</body>
</html>
<script>
    class Battery {
        constructor(energy) {
            this.energy = energy;
            this.isBatteryLow = true;
            this.status=false;
        }

        reduceaBattery() {
            this.energy -= 1;
            if (this.energy <= 20 && this.isBatteryLow === true&&this.status===true) {
                document.getElementById("display").innerHTML += "Pin yếu<br>";
                this.isBatteryLow = false;
            }
            if (this.energy <= 0) {
                document.getElementById("display").innerHTML += "Hết pin<br>";
                this.status=false;
            }
        }
    }

    class FlashLamp {
        constructor() {
            this.battery = new Battery(100);
        }

        turnOn() {
            this.battery.status = true;
            this.battery.reduceaBattery();
            if (this.battery.energy <= 100 && this.battery.energy > 0) {
                document.getElementById("display").innerHTML += "Light is on <br>"
            }
        }

        turnOff() {
            if (this.battery.status===true) {
                this.battery.status = false;
                document.getElementById("display").innerHTML += "Light is off <br>"
            }
        }

        checkBattery() {
            if (this.battery.status) {
                this.battery.reduceaBattery();
                document.getElementById("display").innerHTML +="Pin: "+ this.battery.energy + "%<br>"
            }
        }
    }

    let den = new FlashLamp();
    den.turnOn();
    den.checkBattery();
    den.checkBattery();
    den.turnOff();
    den.checkBattery();

</script>